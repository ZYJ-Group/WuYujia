## 周报5.27

1. ###  数据集更改情况

##### 官方PCN数据集

官方数据集每个物体只有对应的8个残缺pcd点云文件，我的数据集每个物体补了**60个残缺视角**，70个卫星按40-15-15划分训练/验证/测试

```plaintext PCN
PCN/
├── train/                    # 训练集
│   ├── partial/            # 不完整点云（观察视角采样）
│   │   ├── 02691156/       # ShapeNet类别ID 
│   │   │   └── s1          # pcd格式点云文件
│   │   │   │   ├── 00.pcd      # pcd格式缺失点云文件，同一类别下的每个不同文件夹有8个缺失点云文件
│   │   │   │   ├── ...
│   │   │   │   ├── 07.pcd
│   │   │   └── ...
│   │   └── ...             # 其他几个物体类别
│   └── complete/           # 完整点云
│       ├── s1.pcd    
│       └── ...
│
├── test/                    # 测试集
│   ├── partial/          
│   └── complete/            
│
├── val/                     # 验证集
│   ├── partial/          
│   └── complete/  
└── PCN.json               # 数据集划分文件（train/test/val分配）
└── categary.txt
```

我的数据集

```plaintext 
Satellite/
├── train/                    # 训练集
│   ├── partial/            # 不完整点云（观察视角采样）
│   │   ├── 02691156/       # ShapeNet类别ID 
│   │   │   └── s1          # pcd格式点云文件
│   │   │   │   ├── 00.pcd      # pcd格式缺失点云文件，同一类别下的每个不同文件夹有60个缺失点云文件
│   │   │   │   ├── ...
│   │   │   │   ├── 59.pcd
│   │   │   ├── ...
│   │   │   └── s40
│   │   └── ...             # 其他几个物体类别
│   └── complete/           # 完整点云
│       ├── s1.pcd    
│       ├── ...
│       └── s40.pcd
│
├── test/                    # 测试集
│   ├── partial/          
│   └── complete/            
│
├── val/                     # 验证集
│   ├── partial/          
│   └── complete/  
└── PCN.json                 # 数据集划分文件（train/test/val分配） 40个训练集 15个验证集 15个测试集
└── categary.txt
```



2. ### 结果以及主要调参效果

#### 一开始在轮数加大之后，整个指标呈现从逐渐变好到逐渐变坏的情况。

#### 调参过程主要是一步一步降低学习率，更改优化器和更改学习率调度器配置，以下罗列了有明显结果变化的调整

| 模型           | 调整参数        | 配置变更                                                     | 实际结果                                                     |
| -------------- | --------------- | ------------------------------------------------------------ | ------------------------------------------------------------ |
| **PCN**        | 学习率 + 优化器 | `lr: 0.0001 → 0.00005`<br>`Adam → AdamW`<br>`weight_decay: 0 → 0.0005` | ``CDL1: 81.5 → 68`<br>`F-Score: 0.08 → 0.13 `<br />`CDL2: 31.3 → 26.4` |
|                | 学习率调度策略  | `StepLR → CosineAnnealingLR`<br>`T_max: 50`                  | `CDL1: 68  → 23.5`<br>`F-Score: 0.13 → 0.22`<br>`CDL2: 46.5 →  25.6` |
| **FoldingNet** | 学习率 + 优化器 | `lr: 0.0001 → 0000001`<br />                                 | `CDL1: 106.395 → 76.1`<br>`F-Score: 0.01 → 0.26`<br />`CDL2: 51.734 →  49.74` |
|                | 学习率调度策略  | `StepLR → CosineAnnealingLR`<br/>`T_max: 45`<br />i`nitial_epochs: 5 ` | `CDL1:  76.1 → 56.43  `<br/>`F-Score: 0.26 → 0.32 → 0.30`<br/>`CDL2:`变化不大 |
| **AdaPoinTr**  | 学习率 + 优化器 | `lr: 0.0001 → 0000001`<br /><br />`weight_decay : 0.01`      | `CDL1: 67.5 → 54.884`<br>`F-Score: 0.01 → 0.24`<br />`CDL2: 15.042 → 10.148` |
|                | 学习率调度策略  | `decay_step :21 → 10`<br/>                                   | `CDL1: 54.884 → 35.55`<br/>`F-Score: 0.24 → 0.28`<br/>`CDL2: 变化不大` |





| 网络           | 指标        | 调参前  | 调参后 |
| -------------- | ----------- | ------- | ------ |
| **PCN**        | **CDL1**    | 81.5    | 23.5   |
|                | **F-Score** | 0.08    | 0.22   |
|                | **CDL2**    | 31.381  | 25.6   |
| **FoldingNet** | **CDL1**    | 106.395 | 56.43  |
|                | **F-Score** | 0.01    | 0.30   |
|                | **CDL2**    | 51.734  | 41.25  |
| **AdaPoinTr**  | **CDL1**    | 67.5    | 35.55  |
|                | **F-Score** | 0.01    | 0.28   |
|                | **CDL2**    | 15.042  | 10.148 |

##### 所有网络在调参后均有指标优化，但是最后的结果CDL1(23.5) ,**F-Score**(0.30),CDL2(10.148)，效果还是很差，但是能调的参数基本上都已经尝试过了

3. #### 后续想法

   ##### 	数据集还存在哪些问题？还是需要找新的网络